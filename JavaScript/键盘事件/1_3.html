<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>八个方向</title>
		<style type="text/css">
			.box{
				width: 50px;
				height: 50px;
				background-color: #DB7093;
			}
		</style>
	</head>
	<body>
		<div class="box"></div>
	</body>
	<script type="text/javascript">
		var box = document.querySelector('.box');
		var dir = {
			l: false,
			t: false,
			r: false,
			b: false
		};

		var speed = 5;
		(function move() {
			window.requestAnimationFrame(move);

			if (dir.l) {
				box.style.left = box.offsetLeft - speed + 'px';
			}
			if (dir.r) {
				box.style.left = box.offsetLeft + speed + 'px';
			}
			if (dir.t) {
				box.style.top = box.offsetTop - speed + 'px';
			}
			if (dir.b) {
				box.style.top = box.offsetTop + speed + 'px';
			}
		})();
		//添加键盘事件 运用switch语句
		window.addEventListener('keydown', function(e) {
			var keyCode = e.keyCode;
			switch (keyCode) {
				case 37:
					dir.l = true;
					break;
				case 38:
					dir.t = true;
					break;
				case 39:
					dir.r = true;
					break;
				case 40:
					dir.b = true;
					break;
			}
		});
		//案件抬起，条件变回初始值
		window.addEventListener('keyup', function(e) {
			var keyCode = e.keyCode;
			switch (keyCode) {
				case 37:
					dir.l = false;
					break;
				case 38:
					dir.t = false;
					break;
				case 39:
					dir.r = false;
					break;
				case 40:
					dir.b = false;
					break;
			}
		});
	</script>
</html>
