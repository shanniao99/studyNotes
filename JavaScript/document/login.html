<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>登录 记住密码</title>
		<style type="text/css">
			.box {
				width: 400px;
				height: 300px;
				border: 1px solid #8FBC8F;
				/* margin: 0 auto; */
			}

			.top {
				width: 400px;
				height: 100px;
				background-image: linear-gradient(45deg, pink, purple);
				font-size: 50px;
				font-family: 楷体;
				color: white;
				text-align: center;
				line-height: 100px;
			}

			.f {
				width: 300px;
				height: 200px;
				margin: 0 auto;
			}

			.f input {
				width: 200px;
				height: 30px;
				margin: 10px 0px;
				outline: none;
				border: none;
				border-bottom: 1px solid #8FBC8F;
			}

			.f input[type="checkbox"] {
				width: 15px;
				height: 15px;
				margin: 12px 10px;
			}

			form {
				text-align: center;
			}

			.f button {
				width: 200px;
				height: 50px;
				background-color: #DB7093;
				font-size: 24px;
				font-weight: bold;
				color: #FFFFFF;
				border: none;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="top">
				嗨！！
			</div>
			<div class="f">
				<form action="login.php" method="post">
					用户名：<input type="text" placeholder="请输入账号" id="user" />
					密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码:<input type="password" placeholder="请输入密码" id="password" /><br>
					<input type="checkbox" id="remeber">记住密码
					<input type="checkbox">自动登录
					<button type="button" onclick="checkinfo()">登&nbsp;&nbsp;&nbsp;&nbsp;录</button>
				</form>
			</div>
		</div>
	</body>
	<script type="text/javascript">
		window.onload = function() {
			CheckCookie();
		}
		var reb = document.getElementById("remeber");

		function checkinfo() { //点击登录
			var user = document.getElementById("user").value;
			var pwd = document.getElementById("password").value;
			if (user == "") {
				alert("请输入用户账号！！");
				return false;
			}
			if (pwd == "") {
				alert("请输入密码！！");
				return false;
			} else {
				check();
				return true;
			}
		}

		function check() {
			var user = document.getElementById("user").value;
			var pwd = document.getElementById("password").value;
			if (reb.checked) {
				if (user != "" && pwd != "") {
					SetCookie(user, pwd);
				}
			} else {
				SetCookie("", ""); //相当于删除缓存
			}
		}

		function SetCookie(name, pwd) { //存储
			var today = new Date(); //获取时间
			today.setDate(today.getDate() + 7); //设置7天后过期
			var expires = "expires =" + today.toGMTString();
			document.cookie = "username=" + name + ";" + expires;
			document.cookie = "password=" + pwd + ";" + expires;
		}

		function getCookie(n) { //读取
			var name = n + "=";
			var arr = document.cookie.split(";"); //用分号分成有两个值的数组
			for (var i = 0; i < arr.length; i++) {  //遍历数组
				var val = arr[i];
				if (val.indexOf(name) == 0) {
					return val.substring(name.length, val.length);//返回对应的value值
				}
			}
		}

		function CheckCookie() {   //判断cookie是否存入
			var user = getCookie("username");  //取用户名
			var pwd = getCookie("password");   //取密码
			if (user != "" && pwd != "") {    //判断密码和用户名都存在时，将取到的值分别给user和password
				document.getElementById("user").value = user;
				document.getElementById("password").value = pwd;
				reb.checked = true;  //复选框为选中状态
			} else {   //都不存在时
				reb.checked = false;   //清空复选框   重新获取  再存储到cookie
				var username = document.getElementById("username").value;
				var password = document.getElementById("password").value;
				if (username != "" && username != null && password != "" && password != null) {
					SetCookie(username,password);
				}
			}
		}
	</script>
</html>
