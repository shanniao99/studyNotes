<!--pages/sign/sign.wxml-->
<view class="sign_body">
  <view class="week_box">
    <view wx:for="{{signDateList}}" wx:key="index">
      <text class="{{index + 1 < weekStyle?'pass_date':'week_text'}}">{{item.week}}</text>
      <!-- 三元运算嵌套，日期是否已经过去，是否成功签到 -->
      <text class="{{index + 1 < weekStyle?(item.isSign?'sign_seccess':'pass_sign'):'week_integral'}}">{{item.integral}}</text>
    </view>
  </view>
  <view class="level_schedule_box">
    <text class="sign_date_text">已连续签到<text class="sign_date_num">10</text>天</text>
    <view class="integral_progress_box">
      <text class="integral_progress_dowm">{{integralProgressDowm}}</text>
      <text class="integral_progress_middle" style="left: {{leftStyle}};">{{integralProgressMiddle}}</text>
      <text class="integral_progress_up">{{integralProgressUp}}</text>
    </view>
    <van-progress percentage="{{integralProgress}}" show-pivot="{{isPivot}}" stroke-width="8" color="#eecf8b"></van-progress>
    <view class="level_progress_box">
      <text class="level_progress_down">lv2</text>
      <text class="level_progress_up">lv3</text>
    </view>
  </view>
  <view class="task_body">
    <view class="header_box">
      <text class="task_icon"></text>
      <text class="task_text">日常任务</text>
    </view>
    <view class="task_box">
      <view class="task_content" wx:for="{{taskContentList}}" wx:key="index">
        <view class="task_item">
          <view>
            <text class="task_title">{{item.title}}</text>
            <text class="{{item.progressNum==item.allNum?'task_progress':'task_num'}}">
              <text class="{{item.progressNum==0?'':'task_progress'}}">{{item.progressNum}}</text>/<text>{{item.allNum}}</text>
            </text>
          </view>
          <text class="task_award">{{item.awardIntegral}}</text>
        </view>
        <view class="task_over" bindtap="{{item.progressNum==item.allNum?'':'routerToHome'}}">{{item.isOver?"已完成":"去完成"}}</view>
      </view>
    </view>
  </view>
</view>